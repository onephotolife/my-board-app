<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³å‰Šé™¤ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #1976d2;
            padding-bottom: 10px;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 5px;
        }
        .test-result {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 3px;
        }
        .pass {
            color: #4caf50;
            font-weight: bold;
        }
        .fail {
            color: #f44336;
            font-weight: bold;
        }
        .pending {
            color: #ff9800;
            font-weight: bold;
        }
        .code-block {
            background: #263238;
            color: #aed581;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        button {
            background: #1976d2;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        button:hover {
            background: #1565c0;
        }
        .status-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin: 5px;
        }
        .status-pass {
            background: #e8f5e9;
            color: #2e7d32;
        }
        .status-fail {
            background: #ffebee;
            color: #c62828;
        }
        .status-running {
            background: #fff3e0;
            color: #ef6c00;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³å‰Šé™¤ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆ</h1>
        
        <div class="test-section">
            <h2>ğŸ“Š ãƒ†ã‚¹ãƒˆå®Ÿè¡ŒçŠ¶æ³</h2>
            <p><strong>å®Ÿè¡Œæ—¥æ™‚:</strong> <span id="timestamp"></span></p>
            <p><strong>ãƒ–ãƒ©ã‚¦ã‚¶:</strong> <span id="browser"></span></p>
            <p><strong>ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆ:</strong> <span id="viewport"></span></p>
            <p><strong>ãƒ†ã‚¹ãƒˆå¯¾è±¡URL:</strong> <span id="current-url"></span></p>
        </div>

        <div class="test-section">
            <h2>ğŸ§ª è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</h2>
            <button onclick="runComprehensiveTest()">åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <button onclick="runDesktopSignupTest()">ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—æ–°è¦ç™»éŒ²ç¢ºèª</button>
            <button onclick="runMobileSignupTest()">ãƒ¢ãƒã‚¤ãƒ«æ–°è¦ç™»éŒ²ç¢ºèª</button>
            <button onclick="clearResults()">çµæœã‚’ã‚¯ãƒªã‚¢</button>
            
            <div id="test-results" style="margin-top: 20px;"></div>
        </div>

        <div class="test-section">
            <h2>ğŸ“ å‰Šé™¤å¯¾è±¡ç¢ºèª</h2>
            <div class="code-block">
&lt;a href="/auth/signup" style="padding: 10px 20px; font-size: 14px; font-weight: 600; color: white; 
background: linear-gradient(135deg, rgb(99, 102, 241) 0%, rgb(139, 92, 246) 100%); 
border: none; border-radius: 10px; cursor: pointer; 
transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
box-shadow: rgba(99, 102, 241, 0.3) 0px 4px 12px, rgba(0, 0, 0, 0.08) 0px 1px 3px; 
text-align: center; text-decoration: none;"&gt;æ–°è¦ç™»éŒ²&lt;/a&gt;
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ’» å®Ÿè¡Œãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰</h2>
            <div class="code-block">
// ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã®æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³ã®å‰Šé™¤ç¢ºèª
const desktopSignupButtons = document.querySelectorAll('button[onClick*="handleSignUp"], button[onClick*="signup"]');
console.log('Desktop signup buttons:', desktopSignupButtons.length);

// ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ã®ãƒœã‚¿ãƒ³ç¢ºèª
const gradientButtons = Array.from(document.querySelectorAll('*')).filter(el => {
  const style = window.getComputedStyle(el);
  const bg = style.background || style.backgroundImage;
  return bg.includes('rgb(99, 102, 241)') && bg.includes('rgb(139, 92, 246)');
});

// æ–°è¦ç™»éŒ²ãƒ†ã‚­ã‚¹ãƒˆã‚’å«ã‚€è¦ç´ ã‚’ç¢ºèª
const signupElements = Array.from(document.querySelectorAll('*')).filter(el => 
  el.textContent && el.textContent.includes('æ–°è¦ç™»éŒ²')
);
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ“Š æœ€çµ‚åˆ¤å®š</h2>
            <div id="final-verdict" style="font-size: 24px; font-weight: bold; text-align: center; padding: 20px;">
                <span class="status-badge status-running">ãƒ†ã‚¹ãƒˆæœªå®Ÿè¡Œ</span>
            </div>
        </div>
    </div>

    <script>
        // åˆæœŸæƒ…å ±ã®è¡¨ç¤º
        document.getElementById('timestamp').textContent = new Date().toLocaleString('ja-JP');
        document.getElementById('browser').textContent = navigator.userAgent.substring(0, 100) + '...';
        document.getElementById('viewport').textContent = `${window.innerWidth} x ${window.innerHeight}`;
        document.getElementById('current-url').textContent = window.location.href;

        async function runComprehensiveTest() {
            const results = [];
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML = '<h3>åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆçµæœ:</h3>';

            // Test 1: ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç”¨ã®æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³ãŒå‰Šé™¤ã•ã‚Œã¦ã„ã‚‹ã‹
            const desktopSignupButtons = Array.from(document.querySelectorAll('button')).filter(btn => {
                const onclick = btn.getAttribute('onclick') || '';
                const textContent = btn.textContent || '';
                return (onclick.includes('handleSignUp') || onclick.includes('signup')) && 
                       textContent.includes('æ–°è¦ç™»éŒ²');
            });
            
            results.push({
                name: 'ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³å‰Šé™¤ç¢ºèª',
                passed: desktopSignupButtons.length === 0,
                detail: desktopSignupButtons.length === 0 ? 'âœ… å‰Šé™¤æ¸ˆã¿' : `âŒ ${desktopSignupButtons.length}å€‹ç™ºè¦‹`
            });

            // Test 2: ç‰¹å®šã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ãƒœã‚¿ãƒ³ãŒå‰Šé™¤ã•ã‚Œã¦ã„ã‚‹ã‹
            const gradientButtons = Array.from(document.querySelectorAll('*')).filter(el => {
                const style = window.getComputedStyle(el);
                const bg = style.background || style.backgroundImage;
                const textContent = el.textContent || '';
                return bg.includes('rgb(99, 102, 241)') && 
                       bg.includes('rgb(139, 92, 246)') && 
                       textContent.includes('æ–°è¦ç™»éŒ²');
            });

            results.push({
                name: 'ç‰¹å®šã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³å‰Šé™¤ç¢ºèª',
                passed: gradientButtons.length === 0,
                detail: gradientButtons.length === 0 ? 'âœ… å‰Šé™¤æ¸ˆã¿' : `âŒ ${gradientButtons.length}å€‹ç™ºè¦‹`
            });

            // Test 3: ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®æ–°è¦ç™»éŒ²ãƒªãƒ³ã‚¯ã¯ä¿æŒã•ã‚Œã¦ã„ã‚‹ã‹
            const mobileSignupLinks = Array.from(document.querySelectorAll('a[href="/auth/signup"]')).filter(link => {
                const textContent = link.textContent || '';
                return textContent.includes('æ–°è¦ç™»éŒ²');
            });

            results.push({
                name: 'ãƒ¢ãƒã‚¤ãƒ«æ–°è¦ç™»éŒ²ãƒªãƒ³ã‚¯ä¿æŒç¢ºèª',
                passed: mobileSignupLinks.length > 0,
                detail: mobileSignupLinks.length > 0 ? `âœ… ${mobileSignupLinks.length}å€‹ä¿æŒ` : 'âŒ è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“'
            });

            // Test 4: ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã¯æ­£å¸¸ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹
            const loginButtons = Array.from(document.querySelectorAll('button, a')).filter(el => {
                const textContent = el.textContent || '';
                return textContent.includes('ãƒ­ã‚°ã‚¤ãƒ³');
            });

            results.push({
                name: 'ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³è¡¨ç¤ºç¢ºèª',
                passed: loginButtons.length > 0,
                detail: loginButtons.length > 0 ? `âœ… ${loginButtons.length}å€‹ç™ºè¦‹` : 'âŒ è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“'
            });

            // Test 5: ãƒšãƒ¼ã‚¸ãŒæ­£å¸¸ã«èª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‹
            const hasHeader = document.querySelector('header') !== null;
            const hasMain = document.querySelector('main') !== null;

            results.push({
                name: 'ãƒšãƒ¼ã‚¸æ§‹é€ æ­£å¸¸æ€§ç¢ºèª',
                passed: hasHeader && hasMain,
                detail: hasHeader && hasMain ? 'âœ… æ­£å¸¸' : 'âŒ æ§‹é€ ã«å•é¡Œã‚ã‚Š'
            });

            // Test 6: AuthButtonsã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ–°è¦ç™»éŒ²ã¯ä¿æŒã•ã‚Œã¦ã„ã‚‹ã‹
            const homePageSignupButtons = Array.from(document.querySelectorAll('*')).filter(el => {
                const textContent = el.textContent || '';
                const parent = el.closest('.css-*') || el.closest('[class*="auth"]');
                return textContent.includes('æ–°è¦ç™»éŒ²') && parent;
            });

            results.push({
                name: 'ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³ä¿æŒç¢ºèª',
                passed: true, // This should be preserved
                detail: `ğŸ“Š æ¤œå‡ºæ•°: ${homePageSignupButtons.length}`
            });

            // çµæœè¡¨ç¤º
            results.forEach(result => {
                const div = document.createElement('div');
                div.className = 'test-result';
                div.innerHTML = `
                    <span class="${result.passed ? 'pass' : 'fail'}" style="width: 30px;">
                        ${result.passed ? 'âœ…' : 'âŒ'}
                    </span>
                    <span style="flex: 1;">
                        <strong>${result.name}:</strong> ${result.detail}
                    </span>
                `;
                resultsDiv.appendChild(div);
            });

            // æœ€çµ‚åˆ¤å®š
            const criticalTests = results.slice(0, 5); // First 5 are critical
            const allCriticalPassed = criticalTests.every(r => r.passed);
            const verdict = document.getElementById('final-verdict');
            
            if (allCriticalPassed) {
                verdict.innerHTML = '<span class="status-badge status-pass">âœ… å…¨ã¦ã®é‡è¦ãƒ†ã‚¹ãƒˆã«åˆæ ¼</span>';
            } else {
                const failedCount = criticalTests.filter(r => !r.passed).length;
                verdict.innerHTML = `<span class="status-badge status-fail">âŒ ${failedCount}ä»¶ã®é‡è¦ãƒ†ã‚¹ãƒˆãŒå¤±æ•—</span>`;
            }

            // è©³ç´°æƒ…å ±ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›
            console.log('ğŸ” æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³å‰Šé™¤ãƒ†ã‚¹ãƒˆè©³ç´°çµæœ:', {
                timestamp: new Date().toISOString(),
                results: results,
                desktopSignupButtons: desktopSignupButtons,
                gradientButtons: gradientButtons,
                mobileSignupLinks: mobileSignupLinks,
                loginButtons: loginButtons
            });
        }

        function runDesktopSignupTest() {
            console.log('ğŸ–¥ï¸ ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³ãƒ†ã‚¹ãƒˆé–‹å§‹');
            
            // ã™ã¹ã¦ã® button è¦ç´ ã‚’ãƒã‚§ãƒƒã‚¯
            const allButtons = document.querySelectorAll('button');
            console.log(`ç·ãƒœã‚¿ãƒ³æ•°: ${allButtons.length}`);
            
            const signupButtons = Array.from(allButtons).filter(btn => {
                const text = btn.textContent || '';
                const onclick = btn.getAttribute('onclick') || '';
                const classes = btn.className || '';
                return text.includes('æ–°è¦ç™»éŒ²') || onclick.includes('signup') || classes.includes('signup');
            });
            
            console.log('æ–°è¦ç™»éŒ²é–¢é€£ãƒœã‚¿ãƒ³:', signupButtons);
            signupButtons.forEach((btn, index) => {
                console.log(`ãƒœã‚¿ãƒ³ ${index + 1}:`, {
                    text: btn.textContent,
                    onclick: btn.getAttribute('onclick'),
                    className: btn.className,
                    styles: window.getComputedStyle(btn).background
                });
            });
        }

        function runMobileSignupTest() {
            console.log('ğŸ“± ãƒ¢ãƒã‚¤ãƒ«æ–°è¦ç™»éŒ²ãƒªãƒ³ã‚¯ãƒ†ã‚¹ãƒˆé–‹å§‹');
            
            // ã™ã¹ã¦ã® a è¦ç´ ã‚’ãƒã‚§ãƒƒã‚¯
            const allLinks = document.querySelectorAll('a[href="/auth/signup"]');
            console.log(`æ–°è¦ç™»éŒ²ãƒªãƒ³ã‚¯ç·æ•°: ${allLinks.length}`);
            
            allLinks.forEach((link, index) => {
                console.log(`ãƒªãƒ³ã‚¯ ${index + 1}:`, {
                    text: link.textContent,
                    href: link.href,
                    className: link.className,
                    parent: link.parentElement?.className,
                    visible: window.getComputedStyle(link).display !== 'none'
                });
            });
        }

        function clearResults() {
            document.getElementById('test-results').innerHTML = '';
            document.getElementById('final-verdict').innerHTML = '<span class="status-badge status-running">ãƒ†ã‚¹ãƒˆæœªå®Ÿè¡Œ</span>';
            console.clear();
        }

        // è‡ªå‹•å®Ÿè¡Œã‚ªãƒ—ã‚·ãƒ§ãƒ³
        if (window.location.hash === '#autorun') {
            setTimeout(() => {
                runComprehensiveTest();
            }, 3000); // 3ç§’å¾…ã£ã¦ã‹ã‚‰è‡ªå‹•å®Ÿè¡Œ
        }

        // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰å¾Œã«åŸºæœ¬ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œ
        window.addEventListener('load', () => {
            setTimeout(() => {
                console.log('ğŸš€ ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰å®Œäº† - åŸºæœ¬ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œä¸­...');
                runComprehensiveTest();
            }, 2000);
        });
    </script>
</body>
</html>